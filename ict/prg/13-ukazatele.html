<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ukazatele v C++ - dynamickÃ¡ alokace pamÄ›ti, smart pointers.">
    <title>13. Ukazatele C++ - PRG | Maturita PortÃ¡l</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../styles.css">
</head>

<body>
    <div class="container">
        <header>
            <a href="../../index.html" class="logo">MaturitaPortÃ¡l</a>
            <nav>
                <ul>
                    <li><a href="../../index.html">DomÅ¯</a></li>
                    <li><a href="../../literatura/index.html">Literatura</a></li>
                    <li><a href="../index.html" class="active">ICT</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <nav class="breadcrumb">
                <a href="../../index.html">DomÅ¯</a><span class="separator">â€º</span>
                <a href="../index.html">ICT</a><span class="separator">â€º</span>
                <a href="../prg.html">ProgramovÃ¡nÃ­</a><span class="separator">â€º</span>
                <span class="current">Ukazatele C++</span>
            </nav>
            <div class="book-header animate-fade-in">
                <h1>ğŸ¯ Ukazatele C++</h1>
                <p class="author">TÃ©ma 13 - ProgramovÃ¡nÃ­</p>
                <div class="meta">
                    <span class="meta-item">ğŸ’» ProgramovÃ¡nÃ­</span>
                    <span class="meta-item">ğŸ“š MaturitnÃ­ okruh</span>
                </div>
            </div>
            <div class="glass-panel animate-fade-in book-content">
                <h2>ğŸ“– Co je ukazatel?</h2>
                <p>Ukazatel (pointer) je promÄ›nnÃ¡, kterÃ¡ <strong>uchovÃ¡vÃ¡ adresu v pamÄ›ti</strong>. MÃ­sto samotnÃ©
                    hodnoty uklÃ¡dÃ¡, kde v pamÄ›ti se hodnota nachÃ¡zÃ­.</p>

                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                    <pre class="language-plaintext"><code>PamÄ›Å¥:
Adresa:    0x1000    0x1004    0x1008    0x100C
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
Hodnota:   â”‚   42   â”‚   ?    â”‚ 0x1000 â”‚   ?    â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†‘                   â”‚
           promÄ›nnÃ¡ x         ukazatel ptr
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             ptr ukazuje na x (obsahuje adresu x)</code></pre>
                </div>

                <p><strong>ğŸ’¡ ProÄ pouÅ¾Ã­vat ukazatele?</strong></p>
                <ul>
                    <li><strong>DynamickÃ¡ alokace:</strong> VytvÃ¡Å™et data za bÄ›hu s poÅ¾adovanou velikostÃ­</li>
                    <li><strong>EfektivnÃ­ pÅ™edÃ¡vÃ¡nÃ­:</strong> PÅ™edat adresu mÃ­sto kopÃ­rovÃ¡nÃ­ velkÃ½ch dat</li>
                    <li><strong>DatovÃ© struktury:</strong> SpojovÃ© seznamy, stromy, grafy</li>
                    <li><strong>Polymorfismus:</strong> Ukazatel na bÃ¡zovou tÅ™Ã­du mÅ¯Å¾e ukazovat na potomka</li>
                </ul>

                <h2>Deklarace a operÃ¡tory</h2>
                <pre class="language-cpp"><code>// Deklarace ukazatele: typ* nazev
int* ptr;           // Ukazatel na int (zatÃ­m neukazuje nikam uÅ¾iteÄnÃ©ho)
double* ptrDouble;  // Ukazatel na double

// OperÃ¡tor & (address-of) - zÃ­skÃ¡ adresu promÄ›nnÃ©
int x = 42;
ptr = &x;           // ptr nynÃ­ obsahuje adresu promÄ›nnÃ© x

cout << &x;         // VypÃ­Å¡e adresu: 0x7fff5fbff8ac
cout << ptr;        // StejnÃ¡ adresa

// OperÃ¡tor * (dereference) - zÃ­skÃ¡ hodnotu na adrese
cout << *ptr;       // VypÃ­Å¡e 42 (hodnotu na adrese v ptr)

*ptr = 100;         // ZmÄ›nÃ­ hodnotu promÄ›nnÃ© x pÅ™es ukazatel!
cout << x;          // 100</code></pre>

                <p><strong>âš ï¸ Pozor na matoucÃ­ syntaxi:</strong></p>
                <ul>
                    <li><code>int* ptr</code> â€“ hvÄ›zdiÄka u deklarace = â€je to ukazatel"</li>
                    <li><code>*ptr</code> â€“ hvÄ›zdiÄka u pouÅ¾itÃ­ = â€hodnota na adrese" (dereference)</li>
                </ul>

                <h2>nullptr a nebezpeÄÃ­</h2>
                <pre class="language-cpp"><code>int* ptr = nullptr;     // Ukazatel neukazuje nikam (C++11)
int* ptr = NULL;        // StarÅ¡Ã­ varianta (C-style)

// PÅ™ed pouÅ¾itÃ­m vÅ¾dy kontroluj!
if (ptr != nullptr) {
    cout << *ptr;       // BezpeÄnÃ©
}

// âš ï¸ NEBEZPEÄŒÃ - dereference nullptr
int* zly = nullptr;
cout << *zly;           // PÃD PROGRAMU! (Segmentation fault)</code></pre>

                <h2>DynamickÃ¡ alokace pamÄ›ti</h2>
                <p>OperÃ¡tor <code>new</code> alokuje pamÄ›Å¥ na haldÄ› (heap), <code>delete</code> ji uvolnÃ­.</p>

                <pre class="language-csharp"><code>// Alokace jednÃ© promÄ›nnÃ©
int* cislo = new int;        // VytvoÅ™Ã­ int na haldÄ›
*cislo = 42;                 // PÅ™iÅ™adÃ­ hodnotu

int* cislo2 = new int(100);  // Alokace s inicializacÃ­

// DÅ®LEÅ½ITÃ‰: UvolnÄ›nÃ­ pamÄ›ti
delete cislo;                // UvolnÃ­ pamÄ›Å¥
cislo = nullptr;             // DobÃ¡ praxe: nastavit na nullptr

// Alokace pole
int* pole = new int[10];     // Pole 10 intÅ¯ na haldÄ›
pole[0] = 1;
pole[9] = 10;

// UvolnÄ›nÃ­ POLE - pozor na hranÃ¡Ä!
delete[] pole;               // delete[] pro pole!</code></pre>

                <h3>âš ï¸ Memory leak (Ãºnik pamÄ›ti)</h3>
                <pre class="language-css"><code>void spatnaFunkce() {
    int* ptr = new int(42);  // Alokace
    // ... kÃ³d ...
    // Zapomenuli jsme delete!
}   // ptr zanikÃ¡, ale pamÄ›Å¥ zÅ¯stÃ¡vÃ¡ alokovanÃ¡ = MEMORY LEAK!

// PÅ™i opakovanÃ©m volÃ¡nÃ­ program zabere stÃ¡le vÃ­ce pamÄ›ti</code></pre>

                <h2>Ukazatele a pole</h2>
                <p>NÃ¡zev pole je ve skuteÄnosti ukazatel na prvnÃ­ prvek.</p>

                <pre class="language-cpp"><code>int pole[5] = {10, 20, 30, 40, 50};

// pole je ukazatel na prvnÃ­ prvek
cout << pole;       // Adresa: 0x7fff...
cout << *pole;      // 10 (prvnÃ­ prvek)

// UkazatelovÃ¡ aritmetika
cout << *(pole + 0);   // 10 (pole[0])
cout << *(pole + 1);   // 20 (pole[1])
cout << *(pole + 4);   // 50 (pole[4])

// pole[i] je syntaktickÃ½ cukr pro *(pole + i)</code></pre>

                <h2>Ukazatele na funkce</h2>
                <pre class="language-css"><code>// Funkce
int secti(int a, int b) {
    return a + b;
}

// Ukazatel na funkci
int (*operace)(int, int) = secti;

// VolÃ¡nÃ­ pÅ™es ukazatel
int vysledek = operace(5, 3);  // 8

// PouÅ¾itÃ­: callback funkce, pole funkcÃ­</code></pre>

                <h2>Smart Pointers (C++11)</h2>
                <p>ModernÃ­ C++ nabÃ­zÃ­ â€chytrÃ© ukazatele", kterÃ© <strong>automaticky uvolÅˆujÃ­ pamÄ›Å¥</strong>.</p>

                <pre class="language-cpp"><code>#include &lt;memory&gt;

// unique_ptr - jedinÃ½ vlastnÃ­k, nelze kopÃ­rovat
unique_ptr&lt;int&gt; ptr1 = make_unique&lt;int&gt;(42);
cout << *ptr1;                              // 42
// Automaticky se uvolnÃ­ kdyÅ¾ ptr1 opustÃ­ scope

// unique_ptr&lt;int&gt; ptr2 = ptr1;            // CHYBA! Nelze kopÃ­rovat
unique_ptr&lt;int&gt; ptr2 = move(ptr1);         // PÅ™esun vlastnictvÃ­

// shared_ptr - sdÃ­lenÃ© vlastnictvÃ­, poÄÃ­tÃ¡ reference
shared_ptr&lt;int&gt; sp1 = make_shared&lt;int&gt;(100);
shared_ptr&lt;int&gt; sp2 = sp1;                 // Oba ukazujÃ­ na stejnÃ¡ data
// UvolnÃ­ se aÅ¾ kdyÅ¾ poslednÃ­ shared_ptr zanikne

cout << sp1.use_count();                    // 2 (poÄet referencÃ­)

// weak_ptr - nepÅ™idÃ¡vÃ¡ do poÄtu referencÃ­ (prevence cyklÅ¯)
weak_ptr&lt;int&gt; wp = sp1;</code></pre>

                <h3>Kdy pouÅ¾Ã­t kterÃ½?</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <tr style="background: rgba(255,255,255,0.1);">
                        <th style="padding: 0.5rem;">Typ</th>
                        <th style="padding: 0.5rem;">PouÅ¾itÃ­</th>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><code>unique_ptr</code></td>
                        <td style="padding: 0.5rem;">VÃ½chozÃ­ volba, jeden vlastnÃ­k</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><code>shared_ptr</code></td>
                        <td style="padding: 0.5rem;">VÃ­ce vlastnÃ­kÅ¯, sdÃ­lenÃ­ dat</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><code>weak_ptr</code></td>
                        <td style="padding: 0.5rem;">PozorovÃ¡nÃ­ bez vlastnictvÃ­, prevence cyklÅ¯</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;">raw pointer (<code>*</code>)</td>
                        <td style="padding: 0.5rem;">Pouze kdyÅ¾ nevlastnÃ­Å¡ pamÄ›Å¥, nÃ­zkoÃºrovÅˆovÃ© API</td>
                    </tr>
                </table>

                <h2>Reference vs Ukazatel</h2>
                <pre class="language-plaintext"><code>int x = 10;

// Reference
int& ref = x;       // MUSÃ bÃ½t inicializovÃ¡na
ref = 20;           // x je nynÃ­ 20
// Reference nemÅ¯Å¾e bÃ½t pÅ™esmÄ›rovÃ¡na na jinou promÄ›nnou

// Ukazatel
int* ptr = &x;
*ptr = 30;          // x je nynÃ­ 30
ptr = &jinaPromenna;// MÅ¯Å¾e ukazovat jinam
ptr = nullptr;      // MÅ¯Å¾e bÃ½t nullptr</code></pre>

                <h2>ğŸ“ ShrnutÃ­ pro maturitu</h2>
                <div
                    style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                    <ul>
                        <li><strong>Ukazatel</strong> = promÄ›nnÃ¡ obsahujÃ­cÃ­ adresu v pamÄ›ti</li>
                        <li><strong>&</strong> = zÃ­skej adresu (address-of)</li>
                        <li><strong>*</strong> = zÃ­skej hodnotu na adrese (dereference)</li>
                        <li><strong>new/delete</strong> = dynamickÃ¡ alokace/uvolnÄ›nÃ­</li>
                        <li><strong>new[]/delete[]</strong> = pro pole!</li>
                        <li><strong>nullptr</strong> = ukazatel, kterÃ½ neukazuje nikam</li>
                        <li><strong>Smart pointers:</strong> unique_ptr, shared_ptr â€“ automatickÃ© uvolnÄ›nÃ­</li>
                        <li>VÅ¾dy kontroluj nullptr pÅ™ed dereferencÃ­!</li>
                    </ul>
                </div>
            </div>
        </main>
        <footer>
            <p>Â© 2025 MaturitaPortÃ¡l | VytvoÅ™eno pro pÅ™Ã­pravu na maturitu</p>
            <p style="margin-top: 0.5rem; font-size: 0.85rem;">
                <a href="privacy.html" style="color: var(--text-muted);">ZÃ¡sady ochrany osobnÃ­ch ÃºdajÅ¯</a> | 
                <a href="mailto:prasecibota@gmail.com" style="color: var(--text-muted);">Kontakt</a>
            </p>
        </footer>
    </div>
    
    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="../../script.js"></script>
</body>

</html>